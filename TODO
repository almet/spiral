TODO:
- allow to refer to services on the fly
- process all FIXME / TODO
- write tests
- write doc

